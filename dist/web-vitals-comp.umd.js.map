{"version":3,"file":"web-vitals-comp.umd.js","sources":["../node_modules/web-vitals/dist/web-vitals.es5.min.js","../src/index.js"],"sourcesContent":["var t,n,e=function(){return\"\".concat(Date.now(),\"-\").concat(Math.floor(8999999999999*Math.random())+1e12)},i=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return{name:t,value:n,delta:0,entries:[],id:e(),isFinal:!1}},a=function(t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){var e=new PerformanceObserver((function(t){return t.getEntries().map(n)}));return e.observe({type:t,buffered:!0}),e}}catch(t){}},r=!1,o=!1,s=function(t){r=!t.persisted},u=function(){addEventListener(\"pagehide\",s),addEventListener(\"unload\",(function(){}))},c=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];o||(u(),o=!0),addEventListener(\"visibilitychange\",(function(n){var e=n.timeStamp;\"hidden\"===document.visibilityState&&t({timeStamp:e,isUnloading:r})}),{capture:!0,once:n})},l=function(t,n,e,i){var a;return function(){e&&n.isFinal&&e.disconnect(),n.value>=0&&(i||n.isFinal||\"hidden\"===document.visibilityState)&&(n.delta=n.value-(a||0),(n.delta||n.isFinal||void 0===a)&&(t(n),a=n.value))}},p=function(t){var n,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=i(\"CLS\",0),o=function(t){t.hadRecentInput||(r.value+=t.value,r.entries.push(t),n())},s=a(\"layout-shift\",o);s&&(n=l(t,r,s,e),c((function(t){var e=t.isUnloading;s.takeRecords().map(o),e&&(r.isFinal=!0),n()})))},d=function(){return void 0===t&&(t=\"hidden\"===document.visibilityState?0:1/0,c((function(n){var e=n.timeStamp;return t=e}),!0)),{get timeStamp(){return t}}},v=function(t){var n,e=i(\"FCP\"),r=d(),o=a(\"paint\",(function(t){\"first-contentful-paint\"===t.name&&t.startTime<r.timeStamp&&(e.value=t.startTime,e.isFinal=!0,e.entries.push(t),n())}));o&&(n=l(t,e,o))},m=function(t){var n=i(\"FID\"),e=d(),r=function(t){t.startTime<e.timeStamp&&(n.value=t.processingStart-t.startTime,n.entries.push(t),n.isFinal=!0,s())},o=a(\"first-input\",r),s=l(t,n,o);o?c((function(){o.takeRecords().map(r),o.disconnect()}),!0):window.perfMetrics&&window.perfMetrics.onFirstInputDelay&&window.perfMetrics.onFirstInputDelay((function(t,i){i.timeStamp<e.timeStamp&&(n.value=t,n.isFinal=!0,n.entries=[{entryType:\"first-input\",name:i.type,target:i.target,cancelable:i.cancelable,startTime:i.timeStamp,processingStart:i.timeStamp+t}],s())}))},f=function(){return n||(n=new Promise((function(t){return[\"scroll\",\"keydown\",\"pointerdown\"].map((function(n){addEventListener(n,t,{once:!0,passive:!0,capture:!0})}))}))),n},g=function(t){var n,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=i(\"LCP\"),o=d(),s=function(t){var e=t.startTime;e<o.timeStamp?(r.value=e,r.entries.push(t)):r.isFinal=!0,n()},u=a(\"largest-contentful-paint\",s);if(u){n=l(t,r,u,e);var p=function(){r.isFinal||(u.takeRecords().map(s),r.isFinal=!0,n())};f().then(p),c(p,!0)}},h=function(t){var n,e=i(\"TTFB\");n=function(){try{var n=performance.getEntriesByType(\"navigation\")[0]||function(){var t=performance.timing,n={entryType:\"navigation\",startTime:0};for(var e in t)\"navigationStart\"!==e&&\"toJSON\"!==e&&(n[e]=Math.max(t[e]-t.navigationStart,0));return n}();e.value=e.delta=n.responseStart,e.entries=[n],e.isFinal=!0,t(e)}catch(t){}},\"complete\"===document.readyState?setTimeout(n,0):addEventListener(\"pageshow\",n)};export{p as getCLS,v as getFCP,m as getFID,g as getLCP,h as getTTFB};\n","import { getCLS, getLCP, getFID } from 'web-vitals';\n\ncustomElements.define(\n\t'web-vitals',\n\tclass extends HTMLElement {\n\t\tconstructor() {\n\t\t\tsuper();\n\t\t\tthis.dev = this.hasAttribute('dev');\n\t\t\tthis.template = this.logFunction().toString();\n\t\t\tvar el = document.createElement('script');\n\t\t\tel.innerHTML = this.template;\n\t\t\tvar s = this.attachShadow({ mode: 'open' });\n\t\t\tthis.dev && s.appendChild(el);\n\t\t}\n\t\tlogFunction() {\n\t\t\tdocument.readyState === 'loading'\n\t\t\t\t? document.addEventListener('DOMContentLoaded', webv)\n\t\t\t\t: webv();\n\t\t\tfunction webv() {\n\t\t\t\t// prettier-ignore\n\t\t\t\tconsoleInfo('What is this? Check link -> https://web.dev/vitals/');\n\t\t\t\tgetLCP(log);\n\t\t\t\tgetCLS(log, true);\n\t\t\t\tgetFID(log, true);\n\t\t\t}\n\n\t\t\tfunction log(data) {\n\t\t\t\tvar title = data.name;\n\t\t\t\tif (data.isFinal) title = data.name + ' (Final)';\n\t\t\t\tconsole.groupCollapsed('Web Vitals Category: ' + title);\n\n\t\t\t\tlogValue(data);\n\t\t\t\tlogLastEntry(data);\n\n\t\t\t\tconsole.log('Full ' + data.name + ' Metric: ', data); // log whole object anyways\n\t\t\t\tconsole.groupEnd();\n\t\t\t}\n\n\t\t\tfunction logLastEntry({ entries }) {\n\t\t\t\t// log most recent entry instead of the entry array, this prevents eager evaluation\n\t\t\t\tvar lastEntryIndex = entries.length - 1;\n\t\t\t\tvar entry = entries[lastEntryIndex];\n\t\t\t\tif (entry.element) console.log('Element: ', entry.element);\n\t\t\t\tconsole.log('Most recent entry: ', entry);\n\t\t\t}\n\n\t\t\tfunction logValue({ value, delta, name }) {\n\t\t\t\t// calculates acceptable values\n\t\t\t\tvar ts = 0; // timestamp\n\t\t\t\tvar state = false;\n\t\t\t\tif (name === 'LCP') {\n\t\t\t\t\tts = value / 1000;\n\t\t\t\t\tif (ts > 2.5) {\n\t\t\t\t\t\t// prettier-ignore\n\t\t\t\t\t\tconsoleWarn('Paint is happening too late (Threshold < 2.5s)');\n\t\t\t\t\t}\n\t\t\t\t\tconsoleInfo('Timestamp (in Seconds): ', ts);\n\t\t\t\t\tdelta !== value && console.log('Change: ', delta);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (name === 'FID') {\n\t\t\t\t\tts = value;\n\t\t\t\t\tif (ts > 100) {\n\t\t\t\t\t\t// prettier-ignore\n\t\t\t\t\t\tconsoleWarn('Input delay is too high (Threshold < 100ms)');\n\t\t\t\t\t}\n\t\t\t\t\tconsoleInfo('Timestamp (in Milliseconds): ', ts);\n\t\t\t\t\tdelta !== value && console.log('Change: ', delta);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (name === 'CLS') {\n\t\t\t\t\tif (value > 0.1) {\n\t\t\t\t\t\t// prettier-ignore\n\t\t\t\t\t\tconsoleWarn('Cumulative shift is past threshold (Threshold < 0.1)');\n\t\t\t\t\t}\n\t\t\t\t\tconsoleInfo('Layout Shift: ', value);\n\t\t\t\t\tdelta !== value && console.log('Change: ', delta);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\treturn {};\n\t\t\t}\n\n\t\t\tfunction consoleWarn(message) {\n\t\t\t\tvar style = [\n\t\t\t\t\t'background-color: rgba(255, 193, 7, 0.3)',\n\t\t\t\t\t'color: #ffc107',\n\t\t\t\t].join(';');\n\n\t\t\t\tconsole.log('%c%s', style, message);\n\t\t\t}\n\n\t\t\tfunction consoleInfo(message, ...props) {\n\t\t\t\tvar style = [\n\t\t\t\t\t'background-color: rgba(23,162,184, 0.3)',\n\t\t\t\t\t'color: rgb(23,162,184)',\n\t\t\t\t].join(';');\n\n\t\t\t\tprops\n\t\t\t\t\t? console.log('%c%s', style, message, props)\n\t\t\t\t\t: console.log('%c%s', style, message);\n\t\t\t}\n\t\t}\n\t}\n);\n"],"names":["t","n","e","concat","Date","now","Math","floor","random","i","arguments","length","name","value","delta","entries","id","isFinal","a","PerformanceObserver","supportedEntryTypes","includes","getEntries","map","observe","type","buffered","r","o","s","persisted","u","addEventListener","c","document","visibilityState","timeStamp","isUnloading","capture","once","l","disconnect","d","f","Promise","passive","customElements","define","_this","dev","hasAttribute","template","logFunction","toString","el","createElement","innerHTML","attachShadow","mode","appendChild","webv","consoleInfo","startTime","push","p","takeRecords","then","getLCP","log","hadRecentInput","getCLS","processingStart","window","perfMetrics","onFirstInputDelay","entryType","target","cancelable","getFID","data","entry","ts","title","console","groupCollapsed","consoleWarn","element","groupEnd","message","style","join","props","readyState","HTMLElement"],"mappings":"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"}